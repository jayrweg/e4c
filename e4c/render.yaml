services:
  - type: web
    name: empower4change
    env: node
    region: oregon
    plan: free
    buildCommand: cd e4c && npm install && npm run build
    startCommand: cd e4c && npm start
    autoDeploy: true
    envVars:
      - key: NODE_VERSION
        value: 20.11.0

      # Sanity CMS Configuration
      - key: NEXT_PUBLIC_SANITY_PROJECT_ID
        sync: false
      - key: NEXT_PUBLIC_SANITY_DATASET
        value: production
      - key: SANITY_API_TOKEN
        sync: false

      # Resend Email Service (REQUIRED)
      - key: RESEND_API_KEY
        sync: false

      # Contact Email Addresses
      - key: CONTACT_EMAIL
        value: info@empowerforchange.org
      - key: DONATION_EMAIL
        value: info@empowerforchange.org
      - key: VOLUNTEER_EMAIL
        value: info@empowerforchange.org

      # Legacy SMTP (NO LONGER USED - kept for reference)
      - key: SMTP_HOST
        sync: false
      - key: SMTP_PORT
        sync: false
      - key: SMTP_USER
        sync: false
      - key: SMTP_PASS
        sync: false
